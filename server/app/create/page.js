(()=>{var e={};e.id=323,e.ids=[323],e.modules={391:(e,s,t)=>{Promise.resolve().then(t.bind(t,3500))},846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},2111:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>n.a,__next_app__:()=>o,pages:()=>m,routeModule:()=>x,tree:()=>c});var r=t(5239),i=t(8088),a=t(8170),n=t.n(a),l=t(893),d={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>l[e]);t.d(s,d);let c={children:["",{children:["create",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,3500)),"D:\\Doo\\workspace_git\\ReactProject\\interval-timer\\app\\create\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,8014)),"D:\\Doo\\workspace_git\\ReactProject\\interval-timer\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,7398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,9999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,5284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,m=["D:\\Doo\\workspace_git\\ReactProject\\interval-timer\\app\\create\\page.tsx"],o={require:t,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:i.RouteKind.APP_PAGE,page:"/create/page",pathname:"/create",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3500:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});let r=(0,t(2907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"D:\\\\Doo\\\\workspace_git\\\\ReactProject\\\\interval-timer\\\\app\\\\create\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\Doo\\workspace_git\\ReactProject\\interval-timer\\app\\create\\page.tsx","default")},3535:(e,s,t)=>{Promise.resolve().then(t.bind(t,3566))},3566:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>C});var r=t(687),i=t(3210),a=t(4934),n=t(5192),l=t(8988),d=t(9390),c=t(3974),m=t(7826),o=t(6474),x=t(3964),h=t(1860),u=t(3589),p=t(5891),j=t(8233),v=t(8559),g=t(5814),b=t.n(g),y=t(6189),N=t(5665);let f={running:"달리기",walking:"걷기",rest:"휴식"},w={running:"bg-red-100 text-red-800 border-red-200",walking:"bg-blue-100 text-blue-800 border-blue-200",rest:"bg-gray-100 text-gray-800 border-gray-200"},k={walking:[{value:"low",label:"천천히"},{value:"medium",label:"보통"},{value:"high",label:"빠르게"}],running:[{value:"low",label:"조깅"},{value:"medium",label:"보통"},{value:"high",label:"전속력"}],rest:[{value:"medium",label:"휴식"}]};function C(){let e=(0,y.useRouter)(),[s,t]=(0,i.useState)({name:"",description:"",warmupTime:300,cooldownTime:300,items:[]}),[g,C]=(0,i.useState)(!1),[P,$]=(0,i.useState)(null),[A,S]=(0,i.useState)(!1),[q,F]=(0,i.useState)(null),[R,z]=(0,i.useState)({}),D=e=>{let s=Math.floor(e/60);return`${s}:${(e%60).toString().padStart(2,"0")}`},I=(e,s)=>{let r=t=>t.map(t=>t.id===e?{...t,...s}:"set"===t.type?{...t,items:r(t.items)}:t);t(e=>({...e,items:r(e.items)}))},J=e=>{F(e.id),"set"===e.type?z({repetitions:e.repetitions}):z({type:e.type,intensity:e.intensity||"medium",duration:e.duration})},M=()=>{q&&Object.keys(R).length>0&&I(q,R),F(null),z({})},T=()=>{F(null),z({})},W=(e,s,r,i)=>{let a={id:(0,N.$C)(),type:e,intensity:s,duration:r};i?t(e=>({...e,items:V(e.items,i,a)})):t(e=>({...e,items:[...e.items,a]}))},E=(e,s)=>{let r={id:(0,N.$C)(),type:"set",repetitions:e,items:[]};s?t(e=>({...e,items:V(e.items,s,r)})):t(e=>({...e,items:[...e.items,r]}))},V=(e,s,t)=>e.map(e=>e.id===s&&"set"===e.type?{...e,items:[...e.items,t]}:"set"===e.type?{...e,items:V(e.items,s,t)}:e),G=e=>{let s=t=>t.filter(s=>s.id!==e).map(e=>"set"===e.type?{...e,items:s(e.items)}:e);t(e=>({...e,items:s(e.items)}))},Z=(e,s)=>{let r=t=>{let i=t.findIndex(s=>s.id===e);if(-1===i)return t.map(e=>"set"===e.type?{...e,items:r(e.items)}:e);let a=[...t];return"up"===s&&i>0?[a[i-1],a[i]]=[a[i],a[i-1]]:"down"===s&&i<t.length-1&&([a[i],a[i+1]]=[a[i+1],a[i]]),a};t(e=>({...e,items:r(e.items)}))},O=async()=>{if(!s.name.trim()){alert("운동 이름을 입력해주세요.");return}if(0===s.items.length){alert("최소 하나의 훈련을 추가해주세요.");return}S(!0);try{let t=(0,N._O)(s);e.push(`/view/${t.id}`)}catch(e){console.error("Error saving workout:",e),alert("저장 중 오류가 발생했습니다.")}finally{S(!1)}},B=(e,s=0,t)=>{let i="set"===e.type,d=q===e.id;return(0,r.jsxs)("div",{className:`${s>0?"ml-6 border-l-2 border-border pl-4":""}`,children:[(0,r.jsx)(n.Zp,{className:"mb-2",children:(0,r.jsx)(n.Wu,{className:"p-3",children:(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("div",{className:"flex items-center gap-2",children:d?(0,r.jsx)("div",{className:"flex items-center gap-2 flex-wrap",children:i?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"w-3 h-3 bg-accent rounded-full"}),(0,r.jsx)("span",{className:"font-medium",children:"세트"}),(0,r.jsx)("span",{children:"/"}),(0,r.jsx)(l.p,{type:"number",min:"1",value:R.repetitions||1,onChange:e=>z(s=>({...s,repetitions:Number.parseInt(e.target.value)||1})),className:"w-16 h-8",autoFocus:!0}),(0,r.jsx)("span",{className:"text-sm text-muted-foreground",children:"회 반복"})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(c.l6,{value:R.type||"running",onValueChange:e=>{z(s=>({...s,type:e,intensity:"medium"}))},children:[(0,r.jsx)(c.bq,{className:"w-20 h-8",children:(0,r.jsx)(c.yv,{})}),(0,r.jsxs)(c.gC,{children:[(0,r.jsx)(c.eb,{value:"running",children:"달리기"}),(0,r.jsx)(c.eb,{value:"walking",children:"걷기"}),(0,r.jsx)(c.eb,{value:"rest",children:"휴식"})]})]}),"rest"!==(R.type||"running")&&(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(c.l6,{value:R.intensity||"medium",onValueChange:e=>z(s=>({...s,intensity:e})),children:[(0,r.jsx)(c.bq,{className:"w-20 h-8",children:(0,r.jsx)(c.yv,{})}),(0,r.jsx)(c.gC,{children:k[R.type||"running"].map(e=>(0,r.jsx)(c.eb,{value:e.value,children:e.label},e.value))})]})}),(0,r.jsx)("span",{children:"/"}),(0,r.jsx)(l.p,{type:"number",min:"1",value:R.duration||60,onChange:e=>z(s=>({...s,duration:Number.parseInt(e.target.value)||1})),className:"w-16 h-8"}),(0,r.jsx)("span",{className:"text-sm text-muted-foreground",children:"초"})]})}):(0,r.jsx)("div",{className:"flex items-center gap-2 cursor-pointer hover:bg-muted/50 rounded p-1 -m-1",onClick:()=>J(e),children:i?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"w-3 h-3 bg-accent rounded-full"}),(0,r.jsx)("span",{className:"font-medium",children:"세트"}),(0,r.jsx)("span",{children:"/"}),(0,r.jsxs)("span",{className:"text-sm text-muted-foreground",children:[e.repetitions,"회 반복"]})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:`inline-block px-2 py-1 rounded-md text-xs font-medium border ${w[e.type]}`,children:f[e.type]}),(0,r.jsx)("span",{className:"text-sm font-medium",children:(0,N.Em)(e.type,e.intensity||"medium")}),(0,r.jsx)("span",{children:"/"}),(0,r.jsx)("span",{className:"font-medium",children:D(e.duration)})]})})}),!d&&i&&(0,r.jsxs)(a.$,{variant:"ghost",size:"sm",className:"h-8 px-2 text-xs",onClick:()=>{$(e.id),C(!0)},children:[(0,r.jsx)(o.A,{className:"w-3 h-3 mr-1"}),"추가"]})]}),(0,r.jsx)("div",{className:"flex items-center justify-end gap-1",children:d?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(a.$,{variant:"ghost",size:"sm",className:"h-8 px-3 text-green-600",onClick:M,children:[(0,r.jsx)(x.A,{className:"w-4 h-4 mr-1"}),"확인"]}),(0,r.jsxs)(a.$,{variant:"ghost",size:"sm",className:"h-8 px-3 text-red-600",onClick:T,children:[(0,r.jsx)(h.A,{className:"w-4 h-4 mr-1"}),"취소"]})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(a.$,{variant:"ghost",size:"sm",className:"h-8 px-2 text-xs",onClick:()=>Z(e.id,"up"),children:[(0,r.jsx)(u.A,{className:"w-3 h-3 mr-1"}),"위"]}),(0,r.jsxs)(a.$,{variant:"ghost",size:"sm",className:"h-8 px-2 text-xs",onClick:()=>Z(e.id,"down"),children:[(0,r.jsx)(p.A,{className:"w-3 h-3 mr-1"}),"아래"]}),(0,r.jsx)("div",{className:"w-4"}),(0,r.jsxs)(a.$,{variant:"ghost",size:"sm",className:"h-8 px-2 text-xs text-destructive hover:text-destructive",onClick:()=>G(e.id),children:[(0,r.jsx)(j.A,{className:"w-3 h-3 mr-1"}),"삭제"]})]})})]})})}),i&&e.items.length>0&&(0,r.jsx)("div",{className:"mb-2",children:e.items.map(t=>B(t,s+1,e.id))})]},e.id)};return(0,r.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,r.jsx)("header",{className:"border-b border-border bg-card sticky top-0 z-10",children:(0,r.jsx)("div",{className:"container mx-auto px-4 py-4",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)(b(),{href:"/",children:(0,r.jsxs)(a.$,{variant:"ghost",size:"sm",className:"gap-2",children:[(0,r.jsx)(v.A,{className:"w-4 h-4"}),"뒤로"]})}),(0,r.jsx)("h1",{className:"text-xl font-semibold",children:"새 타이머 만들기"})]}),(0,r.jsx)("div",{className:"flex gap-2",children:(0,r.jsx)(a.$,{onClick:O,disabled:A,children:A?"저장 중...":"저장"})})]})})}),(0,r.jsx)("main",{className:"container mx-auto px-4 py-6 max-w-4xl",children:(0,r.jsxs)("div",{className:"space-y-8",children:[(0,r.jsxs)(n.Zp,{children:[(0,r.jsx)(n.aR,{children:(0,r.jsx)(n.ZB,{children:"기본 정보"})}),(0,r.jsxs)(n.Wu,{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(d.J,{htmlFor:"workout-name",children:"운동 이름"}),(0,r.jsx)(l.p,{id:"workout-name",placeholder:"예: HIIT 러닝",value:s.name,onChange:e=>t(s=>({...s,name:e.target.value}))})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(d.J,{htmlFor:"workout-description",children:"설명 (선택사항)"}),(0,r.jsx)(l.p,{id:"workout-description",placeholder:"예: 고강도 인터벌 훈련",value:s.description,onChange:e=>t(s=>({...s,description:e.target.value}))})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(d.J,{htmlFor:"warmup",children:"웜업 시간 (분)"}),(0,r.jsx)(l.p,{id:"warmup",type:"number",min:"0",value:Math.floor(s.warmupTime/60),onChange:e=>t(s=>({...s,warmupTime:60*Number.parseInt(e.target.value)||0}))})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(d.J,{htmlFor:"cooldown",children:"쿨다운 시간 (분)"}),(0,r.jsx)(l.p,{id:"cooldown",type:"number",min:"0",value:Math.floor(s.cooldownTime/60),onChange:e=>t(s=>({...s,cooldownTime:60*Number.parseInt(e.target.value)||0}))})]})]})]})]}),(0,r.jsxs)(n.Zp,{children:[(0,r.jsx)(n.aR,{children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)(n.ZB,{children:"훈련 구성"}),(0,r.jsxs)(a.$,{onClick:()=>{$(null),C(!0)},className:"gap-2",children:[(0,r.jsx)(o.A,{className:"w-4 h-4"}),"추가"]})]})}),(0,r.jsx)(n.Wu,{children:0===s.items.length?(0,r.jsxs)("div",{className:"text-center py-12 text-muted-foreground",children:[(0,r.jsx)("p",{className:"mb-4",children:"아직 훈련이 추가되지 않았습니다."}),(0,r.jsx)("p",{className:"text-sm",children:'위의 "추가" 버튼을 눌러 첫 번째 훈련을 만들어보세요.'})]}):(0,r.jsx)("div",{className:"space-y-1",children:s.items.map(e=>B(e))})})]})]})}),(0,r.jsx)(m.lG,{open:g,onOpenChange:C,children:(0,r.jsxs)(m.Cf,{className:"sm:max-w-md",children:[(0,r.jsxs)(m.c7,{children:[(0,r.jsx)(m.L3,{children:P?"세트에 추가":"새 항목 추가"}),(0,r.jsx)(m.rr,{children:"훈련 또는 세트를 추가할 수 있습니다."})]}),(0,r.jsx)(_,{onAddExercise:(e,s,t)=>{W(e,s,t,P||void 0),C(!1)},onAddSet:e=>{E(e,P||void 0),C(!1)},onCancel:()=>C(!1)})]})})]})}function _({onAddExercise:e,onAddSet:s,onCancel:t}){let[n,m]=(0,i.useState)("exercise"),[o,x]=(0,i.useState)("running"),[h,u]=(0,i.useState)("medium"),[p,j]=(0,i.useState)(60),[v,g]=(0,i.useState)(3);return(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{style:{display:"flex",gap:"16px",flexWrap:"wrap"},children:[(0,r.jsxs)("div",{style:{flex:"1",minWidth:"160px"},children:[(0,r.jsx)(d.J,{className:"text-sm font-medium",children:"추가할 항목"}),(0,r.jsxs)(c.l6,{value:n,onValueChange:e=>m(e),children:[(0,r.jsx)(c.bq,{className:"mt-1",children:(0,r.jsx)(c.yv,{})}),(0,r.jsxs)(c.gC,{children:[(0,r.jsx)(c.eb,{value:"exercise",children:"훈련"}),(0,r.jsx)(c.eb,{value:"set",children:"세트"})]})]})]}),"exercise"===n&&(0,r.jsxs)("div",{style:{flex:"1",minWidth:"160px"},children:[(0,r.jsx)(d.J,{className:"text-sm font-medium",children:"운동 종류"}),(0,r.jsxs)(c.l6,{value:o,onValueChange:e=>{x(e),u("medium")},children:[(0,r.jsx)(c.bq,{className:"mt-1",children:(0,r.jsx)(c.yv,{})}),(0,r.jsxs)(c.gC,{children:[(0,r.jsx)(c.eb,{value:"running",children:"달리기"}),(0,r.jsx)(c.eb,{value:"walking",children:"걷기"}),(0,r.jsx)(c.eb,{value:"rest",children:"휴식"})]})]})]})]}),"exercise"===n?(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{style:{display:"flex",gap:"16px",flexWrap:"wrap"},children:["rest"!==o&&(0,r.jsxs)("div",{style:{flex:"1",minWidth:"160px"},children:[(0,r.jsx)(d.J,{className:"text-sm font-medium",children:"강도"}),(0,r.jsxs)(c.l6,{value:h,onValueChange:e=>u(e),children:[(0,r.jsx)(c.bq,{className:"mt-1",children:(0,r.jsx)(c.yv,{})}),(0,r.jsx)(c.gC,{children:k[o].map(e=>(0,r.jsx)(c.eb,{value:e.value,children:e.label},e.value))})]})]}),(0,r.jsxs)("div",{style:{flex:"1",minWidth:"160px"},children:[(0,r.jsx)(d.J,{className:"text-sm font-medium",children:"시간 (초)"}),(0,r.jsx)(l.p,{type:"number",min:"1",value:p,onChange:e=>j(Number.parseInt(e.target.value)||1),className:"mt-1"})]})]})}):(0,r.jsxs)("div",{children:[(0,r.jsx)(d.J,{className:"text-sm font-medium",children:"반복횟수"}),(0,r.jsx)(l.p,{type:"number",min:"1",value:v,onChange:e=>g(Number.parseInt(e.target.value)||1),className:"mt-1"})]}),(0,r.jsxs)("div",{className:"flex gap-2 pt-2",children:[(0,r.jsx)(a.$,{onClick:()=>{"exercise"===n?e(o,h,p):s(v)},className:"flex-1 bg-primary hover:bg-primary/90",children:"추가"}),(0,r.jsx)(a.$,{variant:"outline",onClick:t,className:"flex-1 bg-transparent",children:"취소"})]})]})}},3873:e=>{"use strict";e.exports=require("path")},8233:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(2688).A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[817,304,297,48],()=>t(2111));module.exports=r})();